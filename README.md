# 使用手册

## CMDB分层设计模型

  OpenCMDB的设计，总体分为了两层，资源层和应用层，资源层提供资源，应用层消费资源。
  基础设施运维只关注资源层，可以不关心上面应用的具体情况。
  应用运维只关注应用本身，其实并不关心，这个应用目前运行在哪个物理机上。
  在云计算时代这个划分越来越明显。当然针对于中小企业，你完全不用担心，只是从设计上分层，在使用上你依然可以查询到所有数据。
  


## 模型管理

  模型管理用来定制存储的CI（Config Item）的结构信息，简单的理解为在这里来定义你的表结构。
	
### 模型属性
  一个模型有多个模型属性组成，例如主机名、CPU、内存、这叫做模型属性。就相当于一个表的不同的列。

### 模型分组
  你可以把有相同特征的属性放置在一个组里，例如交换机、路由器、防火墙都是网络设备组。当然你可以完全不使用组。

### 属性类型
  一个模型属性都有固定的类型。例如单行文本、数字、时间、图片等，这叫做属性类型，就相当于一个表的不同列有不同的类型CHAR、VARCHAR、DATE、TEXT等等。

### CI关系
  在属性类型中有两个特殊属性父子关系和连接关系，这两个属性用来表示CI之前的关系。
   父子关系：例如：数据中心-机柜-物理机-虚拟机
   连接关系：例如：物理机-交换机
   
## 仓库管理

   仓库管理就是在你定义好表结构之后进行数据录入的地方。
  
### 手动录入
   你懂的，不解释。

### Excel导入（未开发）
   Excel导入，首先需要你在模型管理定制好模型，然后选择下载Excel模板，会自动生成和你创建的模型相同的Excel。然后请按要求把Excel填充好之后导入。

### Agent自动采集（未开发）
   v1.0版本支持Agent自动采集，默认使用SaltStack的salt-minion采集主机数据，完成自动导入。
 
## 视图管理

  视图管理，是你日常进行查询和搜索资产的地址。支持三种视图展示。

### 应用视图
   应用试图根据应用层业务线进行数据展示，按照树形结构进行，用户选择对应的业务线后，自动展示该业务线下面的所有资产数。

### 资源视图
   资源视图根据资源层进行物理展示，传统IDC展示为机柜图。
   
### 容量视图
   容量视图主要展示当前管理的所有资产的容量情况。

## 堡垒机管理（未开发）

  还记得Gitlab吗，你只需要上传你的公钥到用户中心的SSH Key。系统会调用SaltStack自动的将证书放置在你有权限的系统上，也就是你可以使用CMDB来实现访问控制，OpenCMDB集成了Web SSH，堡垒机实现如此简单，不用再登录什么堡垒机单独操作了。
